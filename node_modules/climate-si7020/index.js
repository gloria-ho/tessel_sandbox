function t(t){this.hardware=t,this.i2c=this.hardware.I2C(o);var e=this;setTimeout(function(){e._readRegister(r,6,function(t,i){20==i[0]?e.emit("ready"):e.emit("error",Error("Cannot connect to Si7020. Are you sure it's not a Si7005? Got id: "+i[0].toString(16)))})},n)}var e=require("events"),i=require("util"),r=[252,201],n=15,o=64;HTRE=4,i.inherits(t,e.EventEmitter),t.prototype._readRegister=function(t,e,i){this.i2c.transfer(new Buffer(t),e,function(t,e){i&&i(t,e)})},t.prototype._writeRegister=function(t,e){this.i2c.send(new Buffer(t),e)},t.prototype.getData=function(t,e){var i=[t],r=this;setTimeout(function(){r._writeRegister(i,function(){setImmediate(function(){r._readRegister([],3,function(t,i){e(t,i)})})})},n)},t.prototype.readHumidity=function(t){this.getData(229,function(e,i){var r=(i[0]<<8)+i[1];t&&t(null,r*(125/65536)-6)})},t.prototype.readTemperature=function(t,e){e=e||t,this.getData(227,function(i,r){var n=((r[0]<<8)+r[1])*(175.72/65536)-46.85;"f"===t&&(n=1.8*n+32),e(null,n)})},t.prototype.setHeater=function(t,e){var i,r=0;t&&(r=HTRE),(i=this)._writeRegister([231],function(){i._readRegister([],1,function(n,o){r|=o[0],t||(r&=-5),i._writeRegister([230,r],function(){e&&e()})})})},exports.ClimateSensor=t,exports.use=function(e){return new t(e)};